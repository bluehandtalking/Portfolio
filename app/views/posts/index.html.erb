<% content_for :body do %>
  <% if  @posts.blank?%>
    <div class="fixed off-canvas-fixed">
      <section class="left-small">
        <a class="left-off-canvas-toggle menu-icon"><%= image_tag("menu_icon.png") %></a>
      </section>

       <aside class="left-off-canvas-menu">
          <ul class="off-canvas-list">
            <li><label>Table of Contents</label></li>
            <li><a href="#top">What is Testing?</a></li>
            <li><a href="#">etc, etc, etc</a></li>
          </ul>
        </aside>
    </div>
    <div class="inner-wrap">
       <a class="exit-off-canvas"></a> 
       <section class="blog-main">
          <div class="row">
            <div class="small-9 columns blog-style">
              <%= render "testing_Rails_4.1"   %>
            </div> 
          </div> 
        </section>
    </div>
  <% else %>
    <table>
      <tbody>
        <% @posts.each do |post| %>
          <tr id="<%= dom_id(post) %>">
            <td><%= post.title %></td>
            <td><%= post.description %></td>
            <td><%= link_to 'Show', post %></td>
          <% if current_user && policy(post).update? %>
            <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <% end %>
          <% if current_user && policy(post).destroy? %>
            <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
          <% if current_user && policy(post).publish? %>
            <td><%= link_to 'Publish', controller: 'posts', action: 'publish', id: post %>
            </td> 
          <% end %>
          </tr>
          <tr>
            <td>
              <% if current_user && policy(Post.new).create? %>
              <%= link_to 'New Post', new_post_path %>
              <% end %>
            </td>
          </tr>     
        <% end %>
      </tbody>
    </table>        
  <% end %>
<% end %>
