<% content_for :body do %>
  <% if  @posts.blank?%>
    <div class="fixed off-canvas-fixed">
      <section class="left-small">
        <a class="left-off-canvas-toggle menu-icon"><%= image_tag("menu_icon.png") %></a>
      </section>

       <aside class="left-off-canvas-menu">
          <ul class="off-canvas-list">
            <li><label>Table of Contents</label></li>
            <li><a href="#top">What is Testing?</a></li>
            <li><a href="#testingframeworks">Testing Frameworks</a></li>
            <li>
            	<a href="#typestest">Types of Tests</a>
            </li>
            <li>
            	<a href="#examplestestunit">Examples for Test::Unit</a>
            </li>
            <li>
            	<a href="#examplesrspec">Examples for Rspec</a>
            </li>
            <li>
            	<a href="#settingupdata">Setting Up Your Data</a>
            </li>
            <li>
            	<a href="#fixtures">Fixtures</a>
            </li>
            <li>
            	<a href="#factories">Factories</a>
            </li>
            <li>
            	<a href="#minitest">MiniTest/Capybara</a>
            </li>
            <li>
            	<a href="#examplefeaturetest">Example Feature Test</a>
            </li>
            <li>
            	<a href="#mixingitup">Mixing it Up Feature Tests and Capybara</a>
            </li>
            <li>
            	<a href="#minitestspec">MiniTest::Spec</a>
            </li>
            <li>
            	<a href="#rspecwithcapybara">Rspec/Factory Girl</a>
            </li>
            <li>
            	<a href="#mockingstubbing">Mocking and Stubbing</a>
            </li>
            <li>
            	<a href="#pageobject">Page Object Pattern</a>
            </li>
            <li>
            	<a href="#debugging">Debugging</a>
            </li>
            <li>
            	<a href="#git">Git Debugging</a>
            </li>
            <li>
            	<a href="#speeding">Speeding it Up</a>
            </li>
            <li>
            	<a href="#addendum">Addendum</a>
            </li>
            <li>
            	<a href="#references">References</a>
            </li>
          </ul>
        </aside>
    </div>
    <div class="inner-wrap">
       <a class="exit-off-canvas"></a>
       <section class="blog-main">
          <div class="row">
            <div class="small-9 columns blog-style">
              <%= render "testing_Rails_4.1"   %>
            </div> 
          </div> 
        </section>
    </div>
  <% else %>
    <table>
      <tbody>
        <% @posts.each do |post| %>
          <tr id="<%= dom_id(post) %>">
            <td><%= post.title %></td>
            <td><%= post.description %></td>
            <td><%= link_to 'Show', post %></td>
          <% if current_user && policy(post).update? %>
            <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <% end %>
          <% if current_user && policy(post).destroy? %>
            <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
          <% if current_user && policy(post).publish? %>
            <td><%= link_to 'Publish', controller: 'posts', action: 'publish', id: post %>
            </td> 
          <% end %>
          </tr>
          <tr>
            <td>
              <% if current_user && policy(Post.new).create? %>
              <%= link_to 'New Post', new_post_path %>
              <% end %>
            </td>
          </tr>     
        <% end %>
      </tbody>
    </table>        
  <% end %>
<% end %>
